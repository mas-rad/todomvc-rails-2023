<%= form_with url: toggle_todos_url, method: :patch do |form| %>
  <%# TODO: Fix the `checked: true` logic %>
  <%= form.check_box 'toggle', checked: Todo.all.all? {|el| el.completed == true}, class: 'toggle-all', onchange: 'this.form.requestSubmit()' %>
  <%= form.label 'toggle', 'Mark all as complete' %>
<% end %>
<ul class="todo-list">
  <% @todos.each do |todo| %>
    <%= render todo %>
  <% end %>
</ul>
